<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>tpl</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui"/>
	<!-- <link href="http://cdn.bootcss.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet"> -->
	<script src="js/jquery-1.8.3.min.js"></script>
	<script src="js/jq.extend.js"></script>

	<style>
		a, a:link, a:visited, a:hover, a:active {text-decoration: none;outline: none;-moz-outline: none;}
		.gotop {position: fixed;z-index: 999;right: 15px;height: 112px;bottom:-200px;text-indent: -9999px;-webkit-transform: translateZ(0);transform: translateZ(0);}
		.gotop-img {width: 42px;height: 65px;background: url(img/gotop.png) no-repeat center top;display: block;}
		.gotop-img:hover {background-position: center -65px;}
	</style>
</head>
<body>
	<div class="container">
		<h2>返回到顶部测试</h2>
		<hr>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
		<p>这里是内容部分</p>
	</div>

	<div id="goTop" class="gotop">
		<a href="javascript:;" id="goTopImg" class="gotop-img">回到顶部</a>
	</div>
	
	<script>

	$(function(){

		// 坐火箭返回到顶部
		$.goTop={
			o:{
				showHeight:200, 	//当滚动条距离顶部有200px的时候就出现返回到顶部提示图片
				$ele:$('#goTop'), 	//返回到顶部的id
				$win:$(window),
				isShown:false,
			},
			init:function(){
				this.hide();
				this.addEvents();
			},
			addEvents:function(){
				this.o.$win.on('scroll resize', $.proxy(this.scrollEv, this));
				this.o.$ele.on('click', $.proxy(this.fly, this));
			},
			show:function(){
				var self = this;
				// this.o.$win.off('scroll resize',self.scrollEv);
				if(!this.o.isShown){
					this.o.$ele.transition({
						'bottom':self.o.showHeight,
						'opacity':1
					},0.9,'ease-in-out',0, function(){
						// self.o.$win.on('scroll resize',$.proxy(self.scrollEv, self));
						// self.o.$win.scrollTop() < self.o.showHeight && self.hide();
					});
					this.o.isShown = true;
				}
			},
			hide:function(){
				this.o.$ele.css({
					'bottom':-200,
					'opacity':0
				});
				this.o.isShown = false;
			},
			fly:function(){
				var self = this;
				this.o.$win.off('scroll resize',self.scrollEv);
				this.o.$ele.stop().transition({
					'bottom':self.o.$win.height()
				},0.5,'ease-in-out',0,function(){
					self.o.$win.on('scroll resize',$.proxy(self.scrollEv, self));
					self.hide();
				});
				$('body,html').stop().animate({scrollTop:0}, 500)
			},
			scrollEv:function(){
				this.o.$win.scrollTop() > this.o.showHeight ? this.show() : this.hide();
			}
		};
		$.goTop.init();


/*
			//监听window滚动条滚动事件
			var $win = $(window);
			var $goTopDiv = $('#returnTop');
			var isShown = false;

			var goTopShow = function(){
				if(!isShown){
					$goTopDiv.transition({
						'bottom':200,
						'opacity':1
					},0.9,'ease-in-out');
					isShown = true;
				}
			};
			var goTopHide = function(){
				$goTopDiv.css({
					'bottom':-200,
					'opacity':0
				});
				isShown = false;
			};
			var goTopFly = function(){
				$win.off('scroll resize',scrollEv);
				$goTopDiv.stop().transition({
					'bottom':$win.height()
				},0.5,'ease-in-out',0,function(){
					$win.on('scroll resize',scrollEv);
					goTopHide();
				});
				$('body,html').stop().animate({scrollTop:0}, 500)
			};

			var scrollEv = function(){
				$win.scrollTop() > 250 ? goTopShow() : goTopHide();
			};

			$win.on('scroll resize',scrollEv);
			$goTopDiv.on('click',goTopFly); 
*/
	});
	</script>
</body>
</html>